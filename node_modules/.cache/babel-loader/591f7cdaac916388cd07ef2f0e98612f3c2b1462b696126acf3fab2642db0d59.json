{"ast":null,"code":"import{useEffect,useState}from\"react\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[selectedDate,setSelectedDate]=useState(\"\");const[timeRemaining,setTimeRemaining]=useState({});const[intervalId,setIntervalId]=useState(null);const[countdownFinished,setCountdownFinished]=useState(false);const[errorMsg,setErrorMsg]=useState(\"\");const[timerStarted,setTimerStarted]=useState(false);const startCountdown=event=>{event.preventDefault();const validation=()=>{const currentDate=new Date();const maxCountdownDate=new Date(currentDate);maxCountdownDate.setDate(maxCountdownDate.getDate()+99);if(selectedDate===\"\"){setErrorMsg(\"Please select a valid target date and time.\");stopCountdown();return false;;}const selectedDateTime=new Date(selectedDate);if(selectedDateTime<=new Date()||selectedDateTime>maxCountdownDate){setErrorMsg(\"Please select a valid target date and time within the next 99 days.\");stopCountdown();return false;;}return true;};setCountdownFinished(false);if(validation()){setErrorMsg('');const interval=setInterval(()=>{const difference=new Date(selectedDate)-new Date();if(difference<=0){clearInterval(intervalId);setCountdownFinished(true);}else{const days=Math.floor(difference/(1000*60*60*24));const hours=Math.floor(difference/(1000*60*60)%24);const minutes=Math.floor(difference/1000/60%60);const seconds=Math.floor(difference/1000%60);setTimeRemaining({days,hours,minutes,seconds});}},1000);setIntervalId(interval);setTimerStarted(true);}};useEffect(()=>{if(countdownFinished){setTimerStarted(false);}return()=>{clearInterval(intervalId);};},[intervalId,countdownFinished]);const stopCountdown=()=>{clearInterval(intervalId);setSelectedDate(\"\");setTimeRemaining({});setTimerStarted(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"h1\",{style:{color:\"#ae00ff\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"#fff\"},children:\"Countdown\"}),\" Timer\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"picker\",type:\"datetime-local\",id:\"date\",value:selectedDate,onChange:event=>setSelectedDate(event.target.value),style:{margin:\"1rem\"}})}),!timerStarted&&/*#__PURE__*/_jsx(\"button\",{style:{margin:\"0.5rem\"},onClick:startCountdown,children:\"Start Timer\"}),timerStarted&&!countdownFinished&&/*#__PURE__*/_jsx(\"button\",{style:{margin:\"0.5rem\"},onClick:stopCountdown,children:\"Stop Timer\"}),/*#__PURE__*/_jsxs(\"div\",{children:[timeRemaining.days!==undefined&&!countdownFinished&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"timerBox\",children:[timeRemaining.days,/*#__PURE__*/_jsx(\"br\",{}),\"Days\"]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"timerBox\",children:[timeRemaining.hours,/*#__PURE__*/_jsx(\"br\",{}),\"Hours\"]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"timerBox\",children:[timeRemaining.minutes,/*#__PURE__*/_jsx(\"br\",{}),\"Minutes\"]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"timerBox\",children:[timeRemaining.seconds,/*#__PURE__*/_jsx(\"br\",{}),\"Seconds\"]})]})}),countdownFinished&&/*#__PURE__*/_jsx(\"div\",{className:\"finished\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Countdown is over! What's next in your adventure?\"})}),errorMsg!==''&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:/*#__PURE__*/_jsx(\"p\",{children:errorMsg})})]})]});}export default App;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","selectedDate","setSelectedDate","timeRemaining","setTimeRemaining","intervalId","setIntervalId","countdownFinished","setCountdownFinished","errorMsg","setErrorMsg","timerStarted","setTimerStarted","startCountdown","event","preventDefault","validation","currentDate","Date","maxCountdownDate","setDate","getDate","stopCountdown","selectedDateTime","interval","setInterval","difference","clearInterval","days","Math","floor","hours","minutes","seconds","className","children","style","color","type","id","value","onChange","target","margin","onClick","undefined","display","justifyContent"],"sources":["D:/Crio/countdown_timer/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const [timeRemaining, setTimeRemaining] = useState({});\n  const [intervalId, setIntervalId] = useState(null);\n  const [countdownFinished, setCountdownFinished] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [timerStarted, setTimerStarted] = useState(false);\n\n  const startCountdown = (event) => {\n    event.preventDefault();\n\n    const validation = () => {\n      const currentDate = new Date();\n      const maxCountdownDate = new Date(currentDate);\n      maxCountdownDate.setDate(maxCountdownDate.getDate() + 99);\n\n      if (selectedDate === \"\") {\n        setErrorMsg(\"Please select a valid target date and time.\");\n        stopCountdown();\n        return false;;\n      }\n      const selectedDateTime = new Date(selectedDate);\n      if (selectedDateTime  <= new Date() || selectedDateTime  > maxCountdownDate) {\n        setErrorMsg(\n          \"Please select a valid target date and time within the next 99 days.\"\n        );\n        stopCountdown();\n        return false;;\n      }\n      return true;\n    };\n    setCountdownFinished(false);\n    if (validation()) {\n      setErrorMsg('');\n      const interval = setInterval(() => {\n        const difference = new Date(selectedDate) - new Date();\n        if (difference <= 0) {\n          clearInterval(intervalId);\n          setCountdownFinished(true);\n        } else {\n          const days = Math.floor(difference / (1000 * 60 * 60 * 24));\n          const hours = Math.floor((difference / (1000 * 60 * 60)) % 24);\n          const minutes = Math.floor((difference / 1000 / 60) % 60);\n          const seconds = Math.floor((difference / 1000) % 60);\n          setTimeRemaining({ days, hours, minutes, seconds });\n        }\n      }, 1000);\n      setIntervalId(interval);\n      setTimerStarted(true);\n    }\n  };\n\n  useEffect(() => {\n    if (countdownFinished) {\n      setTimerStarted(false);\n    }\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [intervalId, countdownFinished]);\n\n  const stopCountdown = () => {\n    clearInterval(intervalId);\n    setSelectedDate(\"\");\n    setTimeRemaining({});\n    setTimerStarted(false);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 style={{color:\"#ae00ff\"}}><span style={{color:\"#fff\"}}>Countdown</span> Timer</h1>\n      <div>\n        <input\n        className=\"picker\"\n          type=\"datetime-local\"\n          id=\"date\"\n          value={selectedDate}\n          onChange={(event) => setSelectedDate(event.target.value)}\n          style={{ margin: \"1rem\" }}\n        />\n      </div>\n      {!timerStarted  && (\n      <button style={{ margin: \"0.5rem\" }} onClick={startCountdown}>\n        Start Timer\n      </button>\n      )}\n      {timerStarted && !countdownFinished &&(\n        <button style={{ margin: \"0.5rem\" }} onClick={stopCountdown}>\n          Stop Timer\n        </button>\n      )}\n      <div>\n        {timeRemaining.days !== undefined && !countdownFinished && (\n          <div\n            \n          >\n            <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n              <h2 className=\"timerBox\">\n                {timeRemaining.days}\n                <br />\n                Days\n              </h2>\n              <h2 className=\"timerBox\">\n                {timeRemaining.hours}\n                <br />\n                Hours\n              </h2>\n              <h2 className=\"timerBox\">\n                {timeRemaining.minutes}\n                <br />\n                Minutes\n              </h2>\n              <h2 className=\"timerBox\">\n                {timeRemaining.seconds}\n                <br />\n                Seconds\n              </h2>\n            </div>\n          </div>\n        )}\n        {countdownFinished && (\n          <div className=\"finished\">\n            <p>Countdown is over! What's next in your adventure?</p>            \n          </div>\n        )}\n         {errorMsg !== '' && (\n          <div className=\"error\">\n            <p>{errorMsg}</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}